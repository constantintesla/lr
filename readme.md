# lr_ccw90_working  
**Повернуть PDF → Найти чёрные квадраты → Выделить L/R-области → Сохранить кадры**

## Что делает скрипт  
1. Загружает первую страницу PDF и поворачивает её на 90° против часовой.  
2. Находит все чёрные квадраты методами OpenCV.  
3. Разделяет квадраты на левую (L) и правую (R) половины изображения.  
4. По трём верхним квадратам каждой группы строит ограничивающий прямоугольник.  
5. Рисует красную рамку и сохранит обе области в `L_region.jpg`, `R_region.jpg`.  
6. Сохраняет итоговое изображение с разметкой в `result_with_red_squares.jpg`.

## Установка зависимостей  
```bash
python -m pip install -r requirements.txt
```

## Быстрый старт  
Положите файл `1.pdf` в ту же папку и запустите:  
```bash
python lr_ccw90_working.py
```

## Результаты  
- `debug_squares.jpg` – все найденные квадраты с зелёными контурами и номерами.  
- `result_with_red_squares.jpg` – исходное изображение + красные рамки L и R.  
- `L_region.jpg`, `R_region.jpg` – вырезанные участки для дальнейшего анализа.

## Настройка  
- Порог чёрного цвета: строка `_, binary = cv2.threshold(gray, 50, 255, …)`  
- Диапазон площади квадратов: `if 50 < area < 5000:`  
- Допуск по соотношению сторон: `0.7 <= aspect_ratio <= 1.3`  
- Отступ вокруг области: `padding = 10`  

## Файлы репозитория  
```
.
├── lr_ccw90_working.py   # основной скрипт
├── requirements.txt      # зависимости PyPI
├── .gitignore            # что не коммитить
└── README.md             # этот файл
```

## Лицензия  
MIT – делайте что угодно, лишь бы работало.